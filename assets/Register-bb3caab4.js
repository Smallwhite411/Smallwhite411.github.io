import{_ as P,a as R,b as I}from"./微信-eb789fc4.js";import{d as V,h as U,i as f,j as v,c as F,a as g,b as o,w as l,u as s,k as N,l as B,m as A,L,r as d,n as j,g as q,f as u,p as z,e as K,_ as T}from"./index-7930bd8f.js";const b=p=>(z("data-v-d35acb54"),p=p(),K(),p),Z={class:"bg"},G=N('<div class="heard" data-v-d35acb54><div class="cloud" data-v-d35acb54><img class="img1" src="'+P+'" alt="yun" data-v-d35acb54><img class="img2" src="'+R+'" alt="logo" data-v-d35acb54></div><h1 class="title" data-v-d35acb54>KZ～</h1></div>',1),H={class:"login_card"},J=b(()=>g("a",null,"用户服务协议",-1)),M=b(()=>g("img",{class:"weixin-img",src:I,alt:"微信图片"},null,-1)),O=b(()=>g("text",null," 底部说明 ",-1)),Q=V({__name:"Register",setup(p){let e=U({username:"",password:"",captcha:"",confirmPassword:"",isExist:!1,isRead:!1}),n=f(""),c=f(""),m=f(""),_=f("");const w=j();v(()=>e.password,(t,a)=>{t.length==0&&(n.value="请输入密码"),e.confirmPassword&&t!==e.confirmPassword?n.value="两次输入的密码不一致":n.value=""},{immediate:!0}),v(()=>e.confirmPassword,(t,a)=>{t.length==0&&(c.value="请输入密码"),e.password&&t!==e.password?c.value="两次输入的密码不一致":c.value=""},{immediate:!0}),v(()=>e.isExist,(t,a)=>{t?m.value="当前账号已存在，请更换账号名":(console.log("我执行了"),m.value="")},{immediate:!0}),v(()=>e.isRead,(t,a)=>{t?_.value="":_.value="请阅读并勾选下方的协议"});const y=async t=>{console.log("Success:",t);let a=await B("/getmessage/personmessage",t);a?e.isExist=!0:(e.isExist=!1,A.success("注册成功！"),w.push({path:"/"})),console.log(a?"当前账号存在":"当前账号不存在",a)},C=async t=>{let a=await L("/remove/personmessage");console.log("Failed:",t,a)};return(t,a)=>{const h=d("a-input"),i=d("a-form-item"),S=d("router-link"),x=d("a-button"),k=d("a-checkbox"),E=d("a-form"),D=d("a-layout-footer");return q(),F("div",Z,[G,g("div",H,[o(E,{model:s(e),name:"normal_login",class:"login-form",onFinish:y,onFinishFailed:C},{default:l(()=>[o(i,{name:"username",rules:[{required:!0,message:"请输入您的用户名!"}]},{default:l(()=>[o(h,{placeholder:"请输入用户名",value:s(e).username,"onUpdate:value":a[0]||(a[0]=r=>s(e).username=r),bordered:!1,style:{"border-bottom":"1px solid #DCDCDC"}},null,8,["value"])]),_:1}),o(i,{name:"password",validateStatus:s(n)?"error":"",help:s(n)},{default:l(()=>[o(h,{bordered:!1,type:"password",value:s(e).password,"onUpdate:value":a[1]||(a[1]=r=>s(e).password=r),placeholder:"请设置密码",style:{"border-bottom":"1px solid #DCDCDC"}},null,8,["value"])]),_:1},8,["validateStatus","help"]),o(i,{name:"reenterpassword",validateStatus:s(c)?"error":"",help:s(c)},{default:l(()=>[o(h,{bordered:!1,type:"password",value:s(e).confirmPassword,"onUpdate:value":a[2]||(a[2]=r=>s(e).confirmPassword=r),placeholder:"请重复密码",style:{"border-bottom":"1px solid #DCDCDC"}},null,8,["value"])]),_:1},8,["validateStatus","help"]),o(i,null,{default:l(()=>[u(" 已有帐号， "),o(S,{to:"/login"},{default:l(()=>[u("点击登陆")]),_:1})]),_:1}),o(i,{name:"register",validateStatus:s(m)?"error":"",help:s(m)},{default:l(()=>[o(x,{type:"primary",value:s(e).isExist,"onUpdate:value":a[3]||(a[3]=r=>s(e).isExist=r),"html-type":"submit",block:"",style:{height:"56px","border-radius":"12px"}},{default:l(()=>[u(" 注册 ")]),_:1},8,["value"])]),_:1},8,["validateStatus","help"]),o(i,{name:"checkbox",validateStatus:s(_)?"error":"",help:s(_),style:{"text-align":"left"}},{default:l(()=>[o(k,{style:{color:"#CCCCCC"},checked:s(e).isRead,"onUpdate:checked":a[4]||(a[4]=r=>s(e).isRead=r)},{default:l(()=>[u("我已阅读并同意《"),J,u("》")]),_:1},8,["checked"])]),_:1},8,["validateStatus","help"]),o(x,{size:"large",shape:"circle"},{default:l(()=>[M]),_:1})]),_:1},8,["model"])]),o(D,{class:"footer"},{default:l(()=>[O]),_:1})])}}});const Y=T(Q,[["__scopeId","data-v-d35acb54"]]);export{Y as default};
